"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3674],{3674:(ue,I,c)=>{c.r(I),c.d(I,{HomePageModule:()=>le});var p=c(6895),l=c(5035),H=c(433),S=c(672),o=c(8256),k=c(529);let N=(()=>{class n{constructor(t){this.http=t}getImages(t="all",s=0,i=1){return this.http.get("all"===t?`&sol=${s}&page=${i}`:`&sol=${s}&page=${i}&camera=${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(k.eN))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=c(7579),w=c(9646),L=c(9751);const z={now:()=>(z.delegate||Date).now(),delegate:void 0};class E extends C.x{constructor(e=1/0,t=1/0,s=z){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:s,_infiniteTimeWindow:i,_timestampProvider:r,_windowTime:a}=this;t||(s.push(e),!i&&s.push(r.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:i}=this,r=i.slice();for(let a=0;a<r.length&&!e.closed;a+=s?1:2)e.next(r[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:s,_infiniteTimeWindow:i}=this,r=(i?1:2)*e;if(e<1/0&&r<s.length&&s.splice(0,s.length-r),!i){const a=t.now();let g=0;for(let h=1;h<s.length&&s[h]<=a;h+=2)g=h;g&&s.splice(0,g+1)}}}var W=c(5032);const B=new L.y(W.Z);var P=c(9300),d=c(8505),T=c(5698),D=c(5577),U=c(4004),F=c(262),Y=c(3900);function x(n){return Boolean(n.parentElement&&"picture"===n.parentElement.nodeName.toLowerCase())}function f(n){return"img"===n.nodeName.toLowerCase()}function M(n,e,t){return f(n)?t&&"srcset"in n?n.srcset=e:n.src=e:n.style.backgroundImage=`url('${e}')`,n}function v(n){return e=>{const t=e.parentElement.getElementsByTagName("source");for(let s=0;s<t.length;s++){const i=t[s].getAttribute(n);i&&("srcset"in t[s]?t[s].srcset=i:t[s].src=i)}}}const R=v("defaultImage"),Z=v("lazyLoad"),j=v("errorImage");function b(n){return(e,t,s)=>{f(e)&&x(e)&&n(e),t&&M(e,t,s)}}const G=b(R),Q=b(Z),K=b(j);class V{constructor(){this.navigator=function J(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(e){this.platformId=e}onDestroy(e){}onAttributeChange(e){}}function A(n,e){n.className=n.className.replace(e,"")}function y(n,e){n.className.includes(e)||(n.className+=` ${e}`)}class q extends V{setup(e){G(e.element,e.defaultImagePath,e.useSrcset),e.imagePath&&y(e.element,"ng-lazyloading"),function X(n,e){return n.className&&n.className.includes(e)}(e.element,"ng-lazyloaded")&&A(e.element,"ng-lazyloaded")}finally(e){y(e.element,"ng-lazyloaded"),A(e.element,"ng-lazyloading")}loadImage(e){if(this.skipLazyLoading(e))return[e.imagePath];const{element:t,useSrcset:s,imagePath:i,decode:r}=e;let a;return f(t)&&x(t)?(a=t.parentNode.cloneNode(!0).getElementsByTagName("img")[0],Z(a),M(a,i,s)):(a=new Image,f(t)&&t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),f(t)&&t.sizes&&(a.sizes=t.sizes),s&&"srcset"in a?a.srcset=i:a.src=i),r&&a.decode?a.decode().then(()=>i):new Promise((g,h)=>{a.onload=()=>g(i),a.onerror=()=>h(null)})}setErrorImage(e,t){const{element:s,useSrcset:i,errorImagePath:r}=t;K(s,r,i),y(s,"ng-failed-lazyloaded")}setLoadedImage(e,t){const{element:s,useSrcset:i}=t;Q(s,e,i)}isDisabled(){return(0,p.PM)(this.platformId)&&!this.isBot()}skipLazyLoading(e){return this.isBot(e)}isBot(e){var t;return!(null===(t=this.navigator)||void 0===t||!t.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class _ extends q{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new C.x,this.uniqKey={}}getObservable(e){if(this.skipLazyLoading(e))return(0,w.of)({isIntersecting:!0});if(e.customObservable)return e.customObservable;const t=e.scrollContainer||this.uniqKey,s={root:e.scrollContainer||null};e.offset&&(s.rootMargin=`${e.offset}px`);let i=this.observers.get(t);return i||(i=new IntersectionObserver(r=>this.loadingCallback(r),s),this.observers.set(t,i)),i.observe(e.element),L.y.create(r=>{const a=this.intersectionSubject.pipe((0,P.h)(g=>g.target===e.element)).subscribe(r);return()=>{a.unsubscribe(),i.unobserve(e.element)}})}isVisible(e){return e.isIntersecting}loadingCallback(e){e.forEach(t=>this.intersectionSubject.next(t))}}const O=new o.OlP("LazyLoadImageHooks");let te=(()=>{class n{constructor(t,s,i,r){this.onStateChange=new o.vpe,this.elementRef=t,this.ngZone=s,this.propertyChanges$=new E,this.hooks=r,this.hooks.setPlatformId(i),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(t=>console.log(t))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,d.b)(t=>this.hooks.onAttributeChange(t)),(0,d.b)(t=>t.onStateChange.emit({reason:"setup"})),(0,d.b)(t=>this.hooks.setup(t)),(0,Y.w)(t=>t.imagePath?this.hooks.getObservable(t).pipe(function ee(n,e){return t=>t.pipe((0,d.b)(s=>e.onStateChange.emit({reason:"observer-emit",data:s})),(0,P.h)(s=>n.isVisible(s,e)),(0,T.q)(1),(0,d.b)(()=>e.onStateChange.emit({reason:"start-loading"})),(0,D.z)(()=>n.loadImage(e)),(0,d.b)(()=>e.onStateChange.emit({reason:"mount-image"})),(0,d.b)(s=>n.setLoadedImage(s,e)),(0,d.b)(()=>e.onStateChange.emit({reason:"loading-succeeded"})),(0,U.U)(()=>!0),(0,F.K)(s=>(e.onStateChange.emit({reason:"loading-failed",data:s}),n.setErrorImage(s,e),(0,w.of)(!1))),(0,d.b)(()=>{e.onStateChange.emit({reason:"finally"}),n.finally(e)}))}(this.hooks,t)):function $(){return B}())).subscribe({next:()=>null})})}ngOnDestroy(){var t,s;this.propertyChanges$.pipe((0,T.q)(1)).subscribe({next:i=>this.hooks.onDestroy(i)}).unsubscribe(),null===(t=this.loadSubscription)||void 0===t||t.unsubscribe(),null===(s=this.debugSubscription)||void 0===s||s.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.Lbi),o.Y36(O))},n.\u0275dir=o.lG2({type:n,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[o.TTD]}),n})(),ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:O,useClass:_}]}),n})();class u{constructor(e,t,s,i){this.left=e,this.top=t,this.right=s,this.bottom=i}static fromElement(e){const{left:t,top:s,right:i,bottom:r}=e.getBoundingClientRect();return 0===t&&0===s&&0===i&&0===r?u.empty:new u(t,s,i,r)}static fromWindow(e){return new u(0,0,e.innerWidth,e.innerHeight)}inflate(e){this.left-=e,this.top-=e,this.right+=e,this.bottom+=e}intersectsWith(e){return e.left<this.right&&this.left<e.right&&e.top<this.bottom&&this.top<e.bottom}getIntersectionWith(e){const t=Math.max(this.left,e.left),s=Math.max(this.top,e.top),i=Math.min(this.right,e.right),r=Math.min(this.bottom,e.bottom);return i>=t&&r>=s?new u(t,s,i,r):u.empty}}function oe(n,e){1&n&&(o.TgZ(0,"div",14),o.O4$(),o.TgZ(1,"svg",15)(2,"circle",16),o._UZ(3,"animateTransform",17),o.qZA()()())}function se(n,e){1&n&&o._UZ(0,"img",20),2&n&&o.Q6J("lazyLoad",e.$implicit.img_src)}function ie(n,e){if(1&n&&(o.TgZ(0,"div",18),o.YNc(1,se,1,1,"img",19),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.images)}}u.empty=new u(0,0,0,0);const re=[{path:"",component:(()=>{class n{constructor(t){this.roverService=t,this.pageCount=1,this.camera="all",this.sol=0,this.loading=!0}ngOnInit(){this.getImages()}formatArray(){var t,s;if(null===(t=this.images)||void 0===t||!t.length)return;const i=[];for(let r=0;r<(null===(s=this.images)||void 0===s?void 0:s.length);r++)r%2==0&&i.push([this.images[r],this.images[r+1]]);return void 0===i[i.length-1][1]&&i[i.length-1].splice(1,1),i}onIonInfinite(t){this.pageCount++,this.roverService.getImages(this.camera,this.sol,this.pageCount).subscribe(s=>{var i;null===(i=this.images)||void 0===i||i.push(...s.photos),s.photos.length>24&&t.target.complete()})}getImages(){this.loading=!0,this.pageCount=1,this.roverService.getImages(this.camera,this.sol,this.pageCount).subscribe(t=>{this.images=[...t.photos],console.log(this.images),this.loading=!1})}cameraUpdated(t){this.camera=t.detail.value,this.getImages()}solUpdated(t){t&&(this.sol=Number(t),this.sol>0&&this.sol<3e3&&this.getImages())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(N))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,s){if(1&t&&o.Gf(l.W2,5),2&t){let i;o.iGM(i=o.CRH())&&(s.content=i.first)}},decls:29,vars:3,consts:[["contentId","menu-id"],["type","number"],["solInput",""],[3,"click"],["placeholder","select camera",3,"ionChange"],["value","all"],["value","fhaz"],["value","rhaz"],["id","menu-id"],["slot","start"],[3,"fullscreen"],["style","margin-top: 100px",4,"ngIf"],["class","container",4,"ngIf"],[3,"ionInfinite"],[2,"margin-top","100px"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","100px","height","100px","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid",2,"margin","auto","background","rgba(241, 242, 243, 0)","display","block"],["cx","50","cy","50","fill","none","stroke","#1d3f72","stroke-width","10","r","35","stroke-dasharray","164.93361431346415 56.97787143782138"],["attributeName","transform","type","rotate","repeatCount","indefinite","dur","1s","values","0 50 50;360 50 50","keyTimes","0;1"],[1,"container"],["defaultImage","assets/images/default.png",3,"lazyLoad",4,"ngFor","ngForOf"],["defaultImage","assets/images/default.png",3,"lazyLoad"]],template:function(t,s){if(1&t){const i=o.EpF();o.TgZ(0,"ion-menu",0),o._UZ(1,"ion-header"),o.TgZ(2,"ion-content")(3,"ion-item")(4,"ion-label"),o._uU(5,"sol"),o.qZA(),o._UZ(6,"ion-input",1,2),o.TgZ(8,"ion-button",3),o.NdJ("click",function(){o.CHM(i);const a=o.MAs(7);return o.KtG(s.solUpdated(a.value))}),o._uU(9,"save"),o.qZA()(),o.TgZ(10,"ion-select",4),o.NdJ("ionChange",function(a){return s.cameraUpdated(a)}),o.TgZ(11,"ion-select-option",5),o._uU(12,"ALL"),o.qZA(),o.TgZ(13,"ion-select-option",6),o._uU(14,"FHAZ"),o.qZA(),o.TgZ(15,"ion-select-option",7),o._uU(16,"RHAZ"),o.qZA()()()(),o.TgZ(17,"ion-app",8)(18,"ion-header")(19,"ion-toolbar")(20,"ion-title"),o._uU(21," Blank "),o.qZA(),o.TgZ(22,"ion-buttons",9),o._UZ(23,"ion-menu-button"),o.qZA()()(),o.TgZ(24,"ion-content",10),o.YNc(25,oe,4,0,"div",11),o.YNc(26,ie,2,1,"div",12),o.TgZ(27,"ion-infinite-scroll",13),o.NdJ("ionInfinite",function(a){return s.onIonInfinite(a)}),o._UZ(28,"ion-infinite-scroll-content"),o.qZA()()()}2&t&&(o.xp6(24),o.Q6J("fullscreen",!0),o.xp6(1),o.Q6J("ngIf",s.loading),o.xp6(1),o.Q6J("ngIf",!s.loading))},dependencies:[p.sg,p.O5,l.dr,l.YG,l.Sm,l.W2,l.Gu,l.ju,l.MB,l.pK,l.Ie,l.Q$,l.z0,l.fG,l.t9,l.n0,l.wd,l.sr,l.as,l.QI,te],styles:[".container[_ngcontent-%COMP%]{column-count:3;column-gap:5px}img[_ngcontent-%COMP%]{width:500px}"]}),n})()}];let ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[S.Bz.forChild(re),S.Bz]}),n})(),le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[p.ez,H.u5,l.Pc,ae,ne]}),n})()}}]);